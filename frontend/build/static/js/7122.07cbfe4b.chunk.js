"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[7122],{27676:function(e,t,s){function a(){var e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NywibmFtZSI6InRlc3QgbGFzdCIsImVtYWlsIjoidGVzdEB0ZXN0LmNvbSIsImlhdCI6MTY1MjY4Nzk1MH0.FKsgtAw1W-tT6aKxCHV5Ubj8VzkzP5vuzH8ANyy_-pc";return{Authorization:"Bearer "+e}}s.d(t,{Z:function(){return a}})},32279:function(e,t,s){var a=s(30426),n=s(27676),r={getAllNewsCategories:function(){return a.Z.get("/news/categories",{headers:(0,n.Z)()})},getAllNewsPosts:function(){return a.Z.get("/news/posts",{headers:(0,n.Z)()})},getNewsCategory:function(e){return a.Z.get("/news/categories/"+e,{headers:(0,n.Z)()})},getNewsPost:function(e){return a.Z.get("/news/posts/"+e,{headers:(0,n.Z)()})},postNewsCategory:function(e){return a.Z.post("/news/categories/",e,{headers:(0,n.Z)()})},postNewsPost:function(e){return a.Z.post("/news/posts/",e,{headers:(0,n.Z)()})},deleteNewsCategory:function(e){return a.Z.delete("/news/categories/"+e,{headers:(0,n.Z)()})},deleteNewsPost:function(e){return a.Z.delete("/news/posts/"+e,{headers:(0,n.Z)()})},editNewsCategory:function(e,t){return a.Z.put("/news/categories/"+e,t,{headers:(0,n.Z)()})},editNewsPost:function(e,t){return a.Z.put("/news/posts/"+e,t,{headers:(0,n.Z)()})},getNewsImagesList:function(e){return a.Z.get("/news/posts/"+e+"/images",{headers:(0,n.Z)()})},deleteImage:function(e){return a.Z.delete("/news/posts/images"+e,{headers:(0,n.Z)()})},postImage:function(e,t){return a.Z.post("/news/posts/"+e+"/images",t,{headers:(0,n.Z)(),"Content-Type":"multipart/form-data;"})}};t.Z=r},87122:function(e,t,s){s.r(t);var a=s(70885),n=s(47313),r=s(27998),i=(s(24896),s(97890)),o=s(32279),d=s(29085),l=(s(10310),s(46417));t.default=function(){var e=(0,n.useState)(""),t=(0,a.Z)(e,2),s=t[0],c=t[1],u=(0,n.useState)(""),p=(0,a.Z)(u,2),h=p[0],m=p[1],x=(0,n.useState)(""),g=(0,a.Z)(x,2),f=g[0],j=g[1],w=(0,n.useState)(""),Z=(0,a.Z)(w,2),_=Z[0],v=Z[1],C=(0,n.useState)(""),b=(0,a.Z)(C,2),N=b[0],y=b[1],I=(0,n.useState)(""),F=(0,a.Z)(I,2),S=F[0],P=F[1],L=(0,n.useState)(""),T=(0,a.Z)(L,2),A=T[0],k=T[1],O=(0,n.useState)(null),D=(0,a.Z)(O,2),E=D[0],z=D[1],M=(0,n.useState)(""),B=(0,a.Z)(M,2),H=B[0],V=B[1],J=(0,n.useState)(""),K=(0,a.Z)(J,2),G=K[0],R=K[1],U=(0,n.useState)(""),Y=(0,a.Z)(U,2),q=Y[0],W=Y[1],X=(0,n.useState)(""),Q=(0,a.Z)(X,2),$=Q[0],ee=Q[1],te=(0,n.useState)("0"),se=(0,a.Z)(te,2),ae=se[0],ne=se[1],re=(0,d.p)(),ie=re.quill,oe=re.quillRef,de=(0,i.s0)(),le=(0,i.UO)();return n.useEffect((function(){ie&&ie.on("text-change",(function(e,t,s){y(oe.current.firstChild.innerHTML)}))}),[ie]),(0,n.useEffect)((function(){o.Z.getNewsPost(le.id).then((function(e){e.data.post.title&&m(e.data.post.title),e.data.post.classified_slug&&j(e.data.post.classified_slug),e.data.post.small_description&&v(e.data.post.small_description),e.data.post.description&&y(e.data.post.description),e.data.post.extra_description&&P(e.data.post.extra_description),e.data.post.target_date&&k(e.data.post.target_date),e.data.post.banner_image&&z(e.data.post.banner_image),e.data.post.meta_title&&V(e.data.post.meta_title),e.data.post.meta_keywords&&R(e.data.post.meta_keywords),e.data.post.meta_desc&&W(e.data.post.meta_desc),e.data.post.sort_order&&ee(e.data.post.sort_order),e.data.post.is_active&&ne(e.data.post.is_active),oe.current.firstChild.innerHTML=e.data.post.description}))}),[]),(0,n.useEffect)((function(){o.Z.getAllNewsCategories().then((function(e){var t=[],s=e.data.categories;for(var a in s)t.push(s[a].title);c(t)}))}),[]),(0,l.jsxs)(r.rb,{children:[(0,l.jsx)(r.b7,{xs:12,children:(0,l.jsxs)(r.xH,{className:"mb-4",children:[(0,l.jsxs)(r.bn,{children:[(0,l.jsx)("strong",{children:"Edit"})," ",(0,l.jsx)("small",{children:"Post Details"})]}),(0,l.jsx)(r.sl,{children:(0,l.jsxs)(r.lx,{className:"row g-3",children:[(0,l.jsxs)(r.b7,{md:6,children:[(0,l.jsx)(r.L8,{htmlFor:"inputEmail4",children:"Title"}),(0,l.jsx)(r.jO,{value:h,type:"text",id:"title",onChange:function(e){return m(e.target.value)}})]}),(0,l.jsxs)(r.b7,{md:6,children:[(0,l.jsx)(r.L8,{htmlFor:"inputPassword4",children:"Slug"}),(0,l.jsx)(r.jO,{type:"text",id:"slug",onChange:function(e){return j(e.target.value)}})]}),(0,l.jsxs)(r.b7,{md:6,children:[(0,l.jsx)(r.L8,{htmlFor:"inputPassword4",children:"Short Description"}),(0,l.jsx)(r.jO,{type:"text",id:"slug",onChange:function(e){return v(e.target.value)}})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)(r.L8,{htmlFor:"exampleFormControlTextarea1",children:"Description"}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{ref:oe})})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)(r.L8,{htmlFor:"exampleFormControlTextarea1",children:"Additional Description"}),(0,l.jsx)(r.PB,{id:"descriptionTextArea",rows:"3",onChange:function(e){return P(e.target.value)}})]}),(0,l.jsxs)(r.b7,{md:6,children:[(0,l.jsx)(r.L8,{htmlFor:"inputPassword4",children:"Date"}),(0,l.jsx)(r.jO,{type:"text",id:"slug",onChange:function(e){return k(e.target.value)}})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)(r.L8,{htmlFor:"formFile",children:"Banner Image"}),(0,l.jsx)(r.jO,{type:"file",id:"formFile",onChange:function(e){return z(e.target.files[0])}})]})]})})]})}),(0,l.jsx)(r.b7,{xs:12,children:(0,l.jsxs)(r.xH,{className:"mb-4",children:[(0,l.jsxs)(r.bn,{children:[(0,l.jsx)("strong",{children:"SEO"})," ",(0,l.jsx)("small",{children:"Details"})]}),(0,l.jsx)(r.sl,{children:(0,l.jsxs)(r.lx,{children:[(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)(r.L8,{htmlFor:"exampleFormControlTextarea1",children:"Meta Title"}),(0,l.jsx)(r.PB,{id:"metaTitle",rows:"3",onChange:function(e){return V(e.target.value)}})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)(r.L8,{htmlFor:"exampleFormControlTextarea1",children:"Meta Keywords"}),(0,l.jsx)(r.PB,{id:"metaKeywords",rows:"3",onChange:function(e){return R(e.target.value)}})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)(r.L8,{htmlFor:"exampleFormControlTextarea1",children:"Meta Description"}),(0,l.jsx)(r.PB,{id:"metaDescription",rows:"3",onChange:function(e){return W(e.target.value)}})]}),(0,l.jsxs)("fieldset",{className:"row mb-3",children:[(0,l.jsx)("legend",{className:"col-form-label col-sm-2 pt-0",children:"Is Active:"}),(0,l.jsxs)(r.b7,{sm:10,children:[(0,l.jsx)(r.EC,{type:"radio",name:"is active",id:"IsActive",value:"inactive",label:"In Active",onChange:function(){return ne("0")},defaultChecked:!0}),(0,l.jsx)(r.EC,{type:"radio",name:"is active",id:"IsActive",value:"active",label:"Active",onChange:function(){return ne("1")}})]})]}),(0,l.jsxs)(r.b7,{md:6,children:[(0,l.jsx)(r.L8,{htmlFor:"inputPassword4",children:"Sort Order"}),(0,l.jsx)(r.jO,{type:"text",id:"slug",onChange:function(e){return ee(e.target.value)}})]}),(0,l.jsx)("br",{}),(0,l.jsx)(r.u5,{type:"submit",onClick:function(){var e=new FormData;e.append("categories",s),e.append("title",h),e.append("slug",f),e.append("short_description",_),e.append("description",N),e.append("additional_description",S),e.append("banner_image",E),e.append("date",A),e.append("meta_title",H),e.append("meta_tags",G),e.append("meta_description",q),e.append("sort_order",$),e.append("language_id",1),e.append("is_active",ae),o.Z.editNewsPost(le.id,e).then((function(e){console.log(e),de("/news/posts")}))},children:"Submit"})]})})]})})]})}}}]);