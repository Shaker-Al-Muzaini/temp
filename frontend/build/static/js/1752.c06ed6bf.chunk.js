"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[1752],{27676:function(e,a,t){function n(){var e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NywibmFtZSI6InRlc3QgbGFzdCIsImVtYWlsIjoidGVzdEB0ZXN0LmNvbSIsImlhdCI6MTY1MjY4Nzk1MH0.FKsgtAw1W-tT6aKxCHV5Ubj8VzkzP5vuzH8ANyy_-pc";return{Authorization:"Bearer "+e}}t.d(a,{Z:function(){return n}})},52158:function(e,a,t){var n=t(30426),i=t(27676),s="/magazines",r={getAllMagazines:function(){return n.Z.get(s,{headers:(0,i.Z)()})},getMagazines:function(e){return n.Z.get(s+"/"+e,{headers:(0,i.Z)()})},postMagazines:function(e){return n.Z.post(s,e,{headers:(0,i.Z)()})},deleteMagazines:function(e){return n.Z.delete(s+"/"+e,{headers:(0,i.Z)()})},editMagazines:function(e,a){return n.Z.put(s+"/"+e,a,{headers:(0,i.Z)()})},getMagazineImagesList:function(e){return n.Z.get(s+"/posts/"+e+"/images",{headers:(0,i.Z)()})},deleteImage:function(e){return n.Z.delete(s+"/posts/images"+e,{headers:(0,i.Z)()})},postImage:function(e,a){return n.Z.post(s+"/posts/"+e+"/images",a,{headers:(0,i.Z)(),"Content-Type":"multipart/form-data;"})}};a.Z=r},61752:function(e,a,t){t.r(a);var n=t(70885),i=t(47313),s=t(27998),r=(t(24896),t(97890)),l=t(52158),d=t(29085),c=(t(10310),t(46417));a.default=function(){var e=(0,i.useState)(""),a=(0,n.Z)(e,2),t=a[0],o=a[1],m=(0,i.useState)(""),u=(0,n.Z)(m,2),g=u[0],h=u[1],x=(0,i.useState)(""),p=(0,n.Z)(x,2),f=p[0],j=p[1],z=(0,i.useState)(""),v=(0,n.Z)(z,2),Z=(v[0],v[1],(0,i.useState)(null)),_=(0,n.Z)(Z,2),b=_[0],C=_[1],I=(0,i.useState)(""),y=(0,n.Z)(I,2),F=(y[0],y[1],(0,i.useState)("")),M=(0,n.Z)(F,2),w=M[0],N=M[1],S=(0,i.useState)(""),k=(0,n.Z)(S,2),T=k[0],L=k[1],A=(0,i.useState)(""),E=(0,n.Z)(A,2),H=E[0],B=E[1],D=(0,i.useState)("0"),O=(0,n.Z)(D,2),P=O[0],V=O[1],J=(0,d.p)(),K=J.quill,G=J.quillRef,R=(0,r.s0)(),U=(0,r.UO)();return i.useEffect((function(){K&&K.on("text-change",(function(e,a,t){j(G.current.firstChild.innerHTML)}))}),[K]),(0,i.useEffect)((function(){l.Z.getMagazines(U.id).then((function(e){e.data.magazine.title&&o(e.data.magazine.title),e.data.magazine.classified_slug&&h(e.data.magazine.classified_slug),e.data.magazine.description&&j(e.data.magazine.description),e.data.magazine.event_date&&j(e.data.magazine.event_date),e.data.magazine.banner_image&&C(e.data.magazine.banner_image),e.data.magazine.meta_title&&N(e.data.magazine.meta_title),e.data.magazine.meta_keywords&&L(e.data.magazine.meta_keywords),e.data.magazine.meta_desc&&B(e.data.magazine.meta_desc),e.data.magazine.is_active&&V(e.data.magazine.is_active),G.current.firstChild.innerHTML=e.data.magazine.description}))}),[]),(0,c.jsxs)(s.rb,{children:[(0,c.jsx)(s.b7,{xs:12,children:(0,c.jsxs)(s.xH,{className:"mb-4",children:[(0,c.jsxs)(s.bn,{children:[(0,c.jsx)("strong",{children:"Edit"})," ",(0,c.jsx)("small",{children:"Magazine Details"})]}),(0,c.jsx)(s.sl,{children:(0,c.jsxs)(s.lx,{className:"row g-3",children:[(0,c.jsxs)(s.b7,{md:6,children:[(0,c.jsx)(s.L8,{htmlFor:"inputEmail4",children:"Title"}),(0,c.jsx)(s.jO,{value:t,type:"text",id:"title",onChange:function(e){return o(e.target.value)}})]}),(0,c.jsxs)(s.b7,{md:6,children:[(0,c.jsx)(s.L8,{htmlFor:"inputPassword4",children:"Slug"}),(0,c.jsx)(s.jO,{value:g,type:"text",id:"slug",onChange:function(e){return h(e.target.value)}})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)(s.L8,{htmlFor:"exampleFormControlTextarea1",children:"Description"}),(0,c.jsx)("div",{children:(0,c.jsx)("div",{ref:G})})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)(s.L8,{htmlFor:"formFile",children:"Banner Image"}),(0,c.jsx)(s.jO,{type:"file",id:"formFile",onChange:function(e){return C(e.target.files[0])}})]})]})})]})}),(0,c.jsx)(s.b7,{xs:12,children:(0,c.jsxs)(s.xH,{className:"mb-4",children:[(0,c.jsxs)(s.bn,{children:[(0,c.jsx)("strong",{children:"SEO"})," ",(0,c.jsx)("small",{children:"Details"})]}),(0,c.jsx)(s.sl,{children:(0,c.jsxs)(s.lx,{children:[(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)(s.L8,{htmlFor:"exampleFormControlTextarea1",children:"Meta Title"}),(0,c.jsx)(s.PB,{id:"metaTitle",rows:"3",onChange:function(e){return N(e.target.value)}})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)(s.L8,{htmlFor:"exampleFormControlTextarea1",children:"Meta Keywords"}),(0,c.jsx)(s.PB,{id:"metaKeywords",rows:"3",onChange:function(e){return L(e.target.value)}})]}),(0,c.jsxs)("div",{className:"mb-3",children:[(0,c.jsx)(s.L8,{htmlFor:"exampleFormControlTextarea1",children:"Meta Description"}),(0,c.jsx)(s.PB,{id:"metaDescription",rows:"3",onChange:function(e){return B(e.target.value)}})]}),(0,c.jsxs)("fieldset",{className:"row mb-3",children:[(0,c.jsx)("h6",{children:"Status"}),(0,c.jsx)("legend",{className:"col-form-label col-sm-2 pt-0",children:"Is Active:"}),(0,c.jsxs)(s.b7,{sm:10,children:[(0,c.jsx)(s.EC,{type:"radio",name:"is active",id:"IsActive",value:"inactive",label:"In Active",onChange:function(){return V("0")},defaultChecked:!0}),(0,c.jsx)(s.EC,{type:"radio",name:"is active",id:"IsActive",value:"active",label:"Active",onChange:function(){return V("1")}})]})]}),(0,c.jsxs)(s.u5,{type:"submit",onClick:function(){var e=new FormData;e.append("banner_image",b),e.append("title",t),e.append("slug",g),e.append("description",f),e.append("meta_title",w),e.append("meta_keywords",T),e.append("meta_desc",H),e.append("is_active",P),e.append("language_id",1),l.Z.editMagazines(U.id,e).then((function(e){console.log(e),R("/magazine/magazine-list")}))},children:[" ","Submit"]})]})})]})})]})}}}]);